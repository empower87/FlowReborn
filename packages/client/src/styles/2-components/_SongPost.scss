@keyframes fade-in-then-out {
  0% {
    visibility: visible;
    opacity: 0;
  }
  25% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
  75% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
    visibility: hidden;
  }
}

.song-post__container {
  // position: absolute;
  height: 100%;
  width: 100%;
  // scroll-snap-type: y mandatory;
  // overflow-y: auto;
  // will-change: transform;
  // z-index: 1;

  .song-post__list {
    @include flexCenter(100%, 100%, 0px, center, center, column);
    overflow-y: scroll;
    scroll-snap-type: mandatory;
    scroll-snap-type: y mandatory;
    will-change: transform;
    z-index: 1;

    .song-post__item {
      @include flexCenter(100%, 100%, 0px, center, center, column);
      scroll-snap-align: start;
      // scroll-snap-stop: always;

      .song-post__video--container {
        @include flexCenter(100%, 100%, 0px, center, center, column);
        background-position: center;
        background-size: cover;

        .video-pane-video {
          @include flexCenter(100%, 100%, 0px, center, center, column);
          position: absolute;
        }

        .song-post__video-shadow-overlay {
          @include flexCenter(100%, 100%, 0, flex-start, flex-start, column);
          background: linear-gradient(
            0deg,
            black,
            rgba(0, 0, 0, 0.5882352941),
            rgba(0, 0, 0, 0.4),
            rgba(0, 0, 0, 0.2784313725),
            transparent,
            transparent,
            transparent,
            rgb(0 0 0 / 26%),
            black
          );
          margin-bottom: 3%;
          overflow-y: scroll;
          position: absolute;
        }
      }

      .song-post__playback-btn {
        @include flexCenter(50px, 50px, 2em, center, center, row);
        background: gray;
        position: absolute;
        top: 42%;
        left: 43%;
        box-shadow: 2px 2px 3px 0px #4f4f4f, -1px -1px 2px #ffffff;

        .btn-fade-anim {
          animation: fade-in-then-out 2s linear forwards;
        }

        .song-post__playback-btn--bs-inset {
          @include flexCenter(85%, 85%, 2em, center, center, row);
          box-shadow: inset 2px 2px 3px 0px #4f4f4f, inset -1px -1px 3px #ffffff;

          .song-post__playback-btn--wrapper {
            @include flexCenter(90%, 90%, 2em, center, center, row);
          }
        }
      }

      .progress-bar {
        @include flexCenter(20%, 100%, 0em 0em 1em 1em, center, center, row);
        background: linear-gradient(323deg, #808080 0%, #b8b8b8 100%);

        .progress-bar__text {
          @include flexCenter(100%, 8%, 0, center, center, row);
          font-size: 0.65rem;
          color: $base-color;
        }

        .progress-bar__slider {
          @include flexCenter(100%, 84%, 2em, center, center, row);

          .progress-bar__slider--bs-inset {
            @include flexCenter(55%, 97%, 2em, center, center, row);
            box-shadow: inset 1px 1px 2px 0px #313131, inset -1px -1px 2px #ffffff;

            input[type="range"] {
              appearance: none;
              height: 50%;
              width: 98%;
              border-radius: 2em;
              // box-shadow: inset 1px 1px 3px 0px #1b1b1b, inset -1px -1px 2px #e8e4e4;
            }

            input[type="range"]::-webkit-slider-thumb {
              appearance: none;
              height: 5px;
              width: 10px;
              border-radius: 5em;
              margin-left: 0.5%;
              cursor: pointer;
              background: #63debc;
              transition: background-color 1s ease;
              // box-shadow: inset 1px 1px 1px 0px #c2c2c2, inset -1px -1px 1px #353535;
            }
          }
        }
      }

      .song-post__side-bar {
        @include flexCenter(55%, 60px, 0, flex-start, flex-start, column);
        position: absolute;
        right: 0;
        top: 15%;
      }
    }
  }
  .scroll-top-container {
    @include flexCenter(20px, 100%, 0px, center, center, row);
    background: black;
    position: fixed;
    bottom: 37%;
    color: white;
    font-size: 20px;
  }
}

.song-post__details--wrapper {
  @include flexCenter(12%, 100%, 0, space-between, center, column);
  position: absolute;
  bottom: 10%;
  z-index: 1;

  .song-user-section {
    @include flexCenter(75%, 100%, 0, center, center, row);
    background: linear-gradient(323deg, #808080 0%, #b8b8b8 100%);

    .song-user-container {
      @include flexCenter(88%, 98%, 0.2em 0.2em 2.3em 0.2em, space-evenly, center, row);
      box-shadow: inset 2px 2px 3px #464646, inset -2px -2px 3px 0px #e9e9e9;

      .user-pic-container {
        @include flexCenter(100%, 20%, 0, flex-start, center, row);

        .user-pic_shadow-div-outset {
          @include flexCenter(80%, 85%, 45px 4px 4px 45px, flex-start, center, row);
          box-shadow: 2px 2px 3px #595858, -1px -1px 3px 0px #ffffff;
          margin-left: 8%;

          .user-pic_shadow-div-inset {
            @include flexCenter(87%, 65%, 45px 6px 6px 45px, flex-start, center, row);
            box-shadow: inset 1px 1px 3px #4a4a4a, inset -1px -1px 3px #ffffff;
            margin-left: 5%;
            position: relative;

            .user-pic_wrapper {
              @include flexCenter(65%, auto, 100%, center, stretch, row);
              margin-left: 11%;
              overflow: hidden;

              div,
              img,
              p {
                border-radius: 100%;
              }
            }
          }
        }
      }

      .song-title-container {
        @include flexCenter(100%, 80%, 0, flex-start, center, row);

        .song-title_shadow-div-outset {
          @include flexCenter(80%, 98%, 0.5vh 0.5vh 4vh 0.5vh, center, center, column);
          box-shadow: 2px 2px 3px #595858, -1px -1px 3px 0px #ffffff;

          .song-title_shadow-div-inset {
            @include flexCenter(67%, 100%, 0.5vh 4vh 4vh 0.5vh, center, center, row);
            overflow-x: scroll;
            position: relative;

            .song-title_title--container {
              @include flexCenter(80%, 97%, 0.2em 0em 1.3em 0.2em, center, center, row);
              box-shadow: inset 2px 2px 2px #5d5d5d, inset -2px -2px 2px #cbcbcb;
              background: $primary-color-300;
              position: absolute;
              overflow: hidden;

              .marquee-wrapper {
                @include flexCenter(75%, 92%, 0em 0em 1.4em 0em, flex-start, center, row);
                position: absolute;
                overflow: hidden;

                .song-title-marquee {
                  font-size: 1.05rem;
                  color: white;
                  font-weight: bold;
                  white-space: nowrap;
                  text-align: start;
                  span {
                    font-size: 0.95rem;
                    color: $primary-color-200;
                    font-weight: 500;
                  }
                }
              }

              .marquee--animation {
                .song-title-marquee {
                  animation: floatText 5s linear infinite;
                  padding-left: 30%;
                  display: inline-block;
                }
              }
            }
          }

          .song-caption--container {
            @include flexCenter(33%, 97%, 0, flex-start, center, row);
            padding-left: 3%;

            .song-caption__text {
              @include flexCenter(100%, auto, 0, center, flex-start, row);
              font-size: 0.7em;
              color: $primary-color-200;

              &.bullet {
                align-items: center;
                font-size: 1.5rem;
                margin: 0% 2%;
                padding-bottom: 1%;
              }
              &.caption {
                display: block;
                width: 76%;
                text-align: start;
                white-space: nowrap;
                overflow-x: hidden;
                text-overflow: ellipsis;
              }
            }
          }
        }
      }
    }
  }
}

.fullscreen-video-modal {
  @include flexCenter(100%, 100%, 0, center, center, row);
  position: absolute;
  top: 0;
  z-index: 5;
  .video-pane-video {
    @include flexCenter(100%, 100%, 0px, center, center, column);
    // object-fit: cover;
    position: absolute;
  }
}
